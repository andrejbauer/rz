\section{Examples}
\label{sec:examples}

\paragraph{Decidable set.}
\label{sec:decidable-set}

We now consider the theory of a decidable set.
Recall that in constructive mathematics a set~$S$ is said to be
\emph{decidable} if $x = y$ or $x \neq y$ for all $x, y \in S$.
The input to RZ is
%
{\small\VerbatimInput{decidable.thy}}%
%
\noindent and the output is
%
{\small\VerbatimInput{decidable.mli}}
%
\noindent
The output signature asks for \Verb|decidable| to be a function
accepting two realizers~$x$ and~$y$ and returning one of two tokens
\Verb|`or0| and \Verb|`or1|, depending on whether~$x$ and~$y$ realize
the same element. (Disjunction is written \Verb|cor| to emphasize that
it is classical or.) This is nothing but a computable decision procedure
for equality on \Verb|s| with respect to \Verb|=s=|, as
should be expected. 

We remark that nothing requires the partial equivalence relation
\Verb|=s=| to be computable, so not every modest set is decidable. In
fact, there are many natural and important examples of non-computable partial
equivalence relations, such as \emph{extensional equality} of functions
from natural numbers to natural numbers. (If we could computably
decide whether two functions always give equal results on equal
arguments, we could construct a Halting Oracle.)

\paragraph{Natural Numbers.}
\label{sec:natural-numb}

Next we consider the theory of natural numbers. This example shows how
axioms can be parameterized by theories. Recall that the natural
numbers are the initial algebra with one constant and one unary
operation (such algebras are sometimes called ``iteration algebras''):
%
{\small\VerbatimInput{nat.thy}}%
%
\noindent
The theory \Verb|Iteration| is an auxiliary theory. The theory
\Verb|Nat| postulates the existence of a model \Verb|N| of theory
\Verb|Iteration| which satisfies the initiality axiom stating that
there exists exactly one algebra morphism from \Verb|N| to any other
iteration theory \Verb|I|. The output generated by RZ is shown in
Figure~\ref{fig:nat}. The initiality axiom has been translated to a
functor which expects an implementation \Verb|I| of an iteration
theory and outputs a realizer for the axiom. A closer look at the
assertion reveals that it essentially says that the realizer defines a
function from natural numbers to \Verb|I.s| by simple recursion.

\begin{figure*}
  \centering
  {\small\VerbatimInput{nat.mli}}
  \caption{Output for theories \texttt{Iteration} and \texttt{Nat}}
  \label{fig:nat}
\end{figure*}

\paragraph{Axiom of Choice.}
\label{sec:axiom-choice}

As a third example, we look at the realizability interpretation of the
Axiom of Choice. We work with the formulation of the axiom which
states that every total relation has a choice function:
%
\[
  (\forall x \in A.\,
   \exists y \in B.\, R(x, y)) \implies %\\
  \exists g \in B^A.\,
  \forall x \in A.\, R(x, g(x)) \;.
\]
%
We could write this as a theory parameterized by sets $A$, $B$ and the
relation~$R$, but to keep things simple, we use the following version:
%
{\small\VerbatimInput{choice.thy}}%
%
The output is shown in Figure~\ref{fig:choice}. The interesting bit is
the assertion for \Verb|choice|, which says that \Verb|choice| takes
as an argument a realizer $f$ for the $\forall\exists$ statement and
outputs a pair of functions, of which the first is the choice
function~$g$ and the second one provides realizers witnessing that the
choice function does its job. However, there is a problem: the
realizer $f$ is not required to respect \Verb|=a=| while the choice
function $g$ is. In general there is no way for \Verb|choice| to
transform $f$ into a \Verb|=a=|-respecting function. It follows that
in general the Axiom of Choice is \emph{not} valid in the
realizability interpretation. This is another important difference
between realizability and propositions-as-types.

\begin{figure*}
  \centering
  {\small \VerbatimInput{choice.mli}}
  \caption{Output for theory \texttt{Choice}}
  \label{fig:choice}
\end{figure*}


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "case"
%%% End: 
