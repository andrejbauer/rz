\documentclass[11pt]{article}
\usepackage{mathpartir,color,amsthm,amssymb,fullpage}

\newtheorem{lemma}{Lemma}
\newtheorem{claim}{Claim}

\begin{document}

\title{More Flexible Definite Descriptions}
\author{Chris Stone}
\date{\today}
\maketitle


\section{Raw Syntax}

\newcommand{\I}{I}

\renewcommand{\t}{t}
\renewcommand{\u}{u}
\newcommand{\f}{f}
\newcommand{\x}{x}
\newcommand{\y}{y}
\newcommand{\tFun}[3]{#1({#2}_1,\ldots,{#2}_{#3})}
\newcommand{\tDesc}[3]{\iota #1.\, #3}

\newcommand{\p}{\psi}
\newcommand{\q}{\varphi}
\renewcommand{\r}{\phi}
\newcommand{\pTrue}{\top}
\newcommand{\pFalse}{\bot}
% \newcommand{\pNot}[1]{\lnot #1}
\newcommand{\pExists}[3]{\exists #1.\, #3}
\newcommand{\pForall}[3]{\forall #1.\, #3}
\newcommand{\pAnd}[2]{#1 \wedge #2}
\newcommand{\pOr}[2]{#1 \vee #2}
\newcommand{\pImply}[2]{#1 \Rightarrow #2}
\newcommand{\pEqual}[2]{#1 = #2}
\newcommand{\pIff}[2]{#1 \Longleftrightarrow #2}

\newcommand{\G}{\Gamma}
\newcommand{\D}{\Delta}
\newcommand{\emptyCtx}{\cdot}

\renewcommand{\wp}[1]{\mathop{\mathsf{wp}}(#1)}
\newcommand{\trans}[1]{\ulcorner #1 \urcorner}

\newcommand{\jwfterm}[4]{#1;#2 \vdash #3\, :\, #4}
\newcommand{\jwfprop}[3]{#1;#2 \vdash #3\, :\, \mathsf{Prop}}
\newcommand{\jpf}[3]{#1;#2 \vdash #3}

\newcommand{\wfterm}[4]{#1;#2 \,\triangleright\, #3\, :\, #4}
\newcommand{\wfprop}[3]{#1;#2 \,\triangleright\, #3\,:\, \mathsf{Prop}}
\newcommand{\pf}[3]{#1;#2 \,\triangleright\, #3}

\newcommand{\subst}[3]{#1[#2{\mapsto}#3]}

\[
\begin{array}{rl}
\t,\u ::= & \x\ |\ \y\ |\ \cdots\\
     | &\tFun{\f}{\t}{n}\\
     | &\tDesc{\x}{\I}{\p}\\[10pt]

\p,\q ::= &\pTrue\\
| & \pFalse\\
| & \pAnd{\p}{\p}\\
| & \pOr{\p}{\p}\\
| & \pImply{\p}{\p}\\
| & \pForall{\x}{\I}{\p}\\
| & \pExists{\x}{\I}{\p}\\
| & \pEqual{\t}{\u}\\[10pt]

\G ::= & \emptyCtx\\
       |& \G,\x{:}\I\\[10pt]

\D ::= & \emptyCtx\\
       |& \D,\p\\[10pt]

\end{array}
\]
\section{Original JSL System}

\subsection{Well-Formedness} 

\begin{mathpar}
\inferrule
  {\x{:}\I \in \G}
  { \jwfterm{\G}{\D}{\x}{\I} }

\inferrule
  { \jwfterm{\G}{\D}{\t_1}{\I}\\ \cdots \\ \jwfterm{\G}{\D}{\t_n}{\I} }
  { \jwfterm{\G}{\D}{\tFun{\f}{\t}{n}}{\I} }

\inferrule
  { \jpf{\G}{\D}{\pExists{\x}{\I}{\p(\x)}} \\
    \jpf{\G}{\D}{\pForall{\x}{\I}{\pForall{\y}{\I}
               {\pImply{\pAnd{\p(\x)}{\p(\y)}}{\x=\y}}}}}
  { \jwfterm{\G}{\D}{\tDesc{\x}{\I}{\p(\x)}}{\I} }
\end{mathpar}

\begin{mathpar}
\inferrule
  { }
  { \jwfprop{\G}{\D}{\pTrue} }

\inferrule
  { }
  { \jwfprop{\G}{\D}{\pFalse} }

%\inferrule
% { \jwfprop{\G}{\D}{\p} }
% { \jwfprop{\G}{\D}{\pNot{\p}} }

\inferrule
 { \jwfprop{\G}{\D}{\p} \\ 
   \jwfprop{\G}{\D}{\q} }
 { \jwfprop{\G}{\D}{\pOr{\p}{\q}} }
 
\inferrule
 { \jwfprop{\G}{\D}{\p} \\ 
   \jwfprop{\G}{\D,\p}{\q} }
 { \jwfprop{\G}{\D}{\pAnd{\p}{\q}} }

\inferrule
 { \jwfprop{\G}{\D}{\p} \\ 
   \jwfprop{\G}{\D,\p}{\q} }
 { \jwfprop{\G}{\D}{\pImply{\p}{\q}} }

\inferrule
 { \jwfprop{\G,\x{:}\I}{\D}{\p} }
 { \jwfprop{\G}{\D}{\pForall{\x}{\I}{\p}} }

\inferrule
 { \jwfprop{\G,\x{:}\I}{\D}{\p} }
 { \jwfprop{\G}{\D}{\pExists{\x}{\I}{\p}} }

\inferrule
 { \jwfterm{\G}{\D}{\t}{\I} \\ \jwfterm{\G}{\D}{\u}{\I} }
 { \jwfprop{\G}{\D}{\pEqual{\t}{\u}} }

\end{mathpar}


\subsection{Provability}

\begin{mathpar}
\inferrule
  {\p\in\D}
  {\jpf{\G}{\D}{\p}}

\inferrule
  {\jpf{\G}{\D}{\p} \\ \jpf{\G}{\D}{\q}}
  {\jpf{\G}{\D}{\pAnd{\p}{\q}} }

\inferrule
  {\jpf{\G}{\D}{\pAnd{\p}{\q}} }
  {\jpf{\G}{\D}{\p}}

\inferrule
  {\jpf{\G}{\D}{\pAnd{\p}{\q}} }
  {\jpf{\G}{\D}{\q}}

\fbox{
\inferrule
  { \jpf{\G}{\D}{\p} \\ \jwfprop{\G}{\D}{\pOr{\p}{\q}} }
  { \jpf{\G}{\D}{\pOr{\p}{\q}} }
}

\fbox{
\inferrule
  { \jpf{\G}{\D}{\q} \\ \jwfprop{\G}{\D}{\pOr{\p}{\q}} }
  { \jpf{\G}{\D}{\pOr{\p}{\q}} }
}

\inferrule
  { \jpf{\G}{\D}{\pOr{\p}{\q}} \\ \jpf{\G}{\D,\p}{\r} \\ \jpf{\G}{\D,\q}{\r} }
  { \jpf{\G}{\D}{\r} }

\iffalse
\inferrule
  { \jwfprop{\G}{\D}{\p} \\ \jpf{\G}{\D,
\fi

\inferrule
  {\jwfprop{\G}{\D}{\p} \\ \jpf{\G}{\D}{\pFalse}}
  {\jpf{\G}{\D}{\p}}

\inferrule
  {\jwfprop{\G}{\D}{\p} \\ \jpf{\G}{\D,\p}{\q}}
  {\jpf{\G}{\D}{\pImply{\p}{\q}}}

\inferrule
  { \jpf{\G}{\D}{\p} \\ \jpf{\G}{\D}{\pImply{\p}{\q}} }
  { \jpf{\G}{\D}{\q} }

\\ 

\inferrule
  { \jpf{\G,\x{:}\I}{\D}{\p(\x)} }
  { \jpf{\G}{\D}{\pForall{\x}{\I}{\p(\x)}} }

\inferrule
  { \jpf{\G}{\D}{\pForall{\x}{\I}{\p(\x)}} \\ \jwfterm{\G}{\D}{\t}{\I} }
  { \jpf{\G}{\D}{\p(\t)} }

\\

\fbox{
\inferrule
  { \jwfprop{\G}{\D}{\pExists{\x}{\I}{\p(\x)}} \\\\ 
    \jpf{\G}{\D}{\p(\t)} \\ \jwfterm{\G}{\D}{\t}{\I} }
  { \jpf{\G}{\D}{\pExists{\x}{\I}{\p(\x)}} }
}

\fbox{
\inferrule
  { \jwfprop{\G}{\D}{\q} \\\\
    \jpf{\G}{\D}{\pExists{\x}{\I}{\p(\x)}} \\
    \jpf{(\G,\x{:}\I)}{(\D,\p(\x))}{\q} \\
     }
  { \jpf{\G}{\D}{\q} }
}

\inferrule
  { \jpf{\G}{\D}{\pExists{\x}{\I}{\p(\x)}} \\
    \jpf{\G}{\D}{\pForall{\x}{\I}{\pForall{\y}{\I}
               {\pImply{\pAnd{\p(\x)}{\p(\y)}}{\x=\y}}}}}
  { \jpf{\G}{\D}{\p(\tDesc{\x}{\I}{\p(\x)})} }

\inferrule
  { \jwfprop{\G}{\t}{\I} }
  { \jpf{\G}{\D}{\pEqual{\t}{\t}} }
  
\inferrule
  { \jpf{\G}{\D}{\p(\t)} \\ \jpf{\G}{\D}{\pEqual{\t}{\u}} }
  { \jpf{\G}{\D}{\p(\u)} }

\end{mathpar}

\section{Lax System}

\subsection{Well-Formedness} 


\begin{mathpar}
\inferrule
  {\x{:}\I \in \G}
  { \wfterm{\G}{\D}{\x}{\I} }

\inferrule
  { \wfterm{\G}{\D}{\t_1}{\I}\\ \cdots \\ \wfterm{\G}{\D}{\t_n}{\I} }
  { \wfterm{\G}{\D}{\tFun{\f}{\t}{n}}{\I} }

\inferrule
  { \pf{\G}{\D}{\pExists{\x}{\I}{\p(\x)}} \\
    \pf{\G}{\D}{\pForall{\x}{\I}{\pForall{\y}{\I}
               {\pImply{\pAnd{\p(\x)}{\p(\y)}}{\x=\y}}}}}
  { \wfterm{\G}{\D}{\tDesc{\x}{\I}{\p(\x)}}{\I} }
\end{mathpar}

\begin{mathpar}
\inferrule
  { }
  { \wfprop{\G}{\D}{\pTrue} }

\inferrule
  { }
  { \wfprop{\G}{\D}{\pFalse} }

%\inferrule
% { \wfprop{\G}{\D}{\p} }
% { \wfprop{\G}{\D}{\pNot{\p}} }

\inferrule
 { \wfprop{\G}{\D}{\p_1} \\ 
   \wfprop{\G}{(\D,\p_1)}{\p_2} }
 { \wfprop{\G}{\D}{\pAnd{\p_1}{\p_2}} }

\inferrule
 { \wfprop{\G}{\D}{\p_1} \\ 
   \wfprop{\G}{(\D,\p_1)}{\p_2} }
 { \wfprop{\G}{\D}{\pImply{\p_1}{\p_2}} }

\fbox{
\inferrule
 { \wfprop{\G}{(\D,\pFalse)}{\p_1} \\
   \wfprop{\G}{(\D,\pFalse)}{\p_2} }
 { \wfprop{\G}{\D}{\pOr{\p_1}{\p_2}} }
}

\inferrule
 { \wfprop{(\G,\x{:}\I)}{\D}{\p} }
 { \wfprop{\G}{\D}{\pForall{\x}{\I}{\p}} }

\fbox{
\inferrule
 { \wfprop{(\G,\x{:}\I)}{(\D,\pFalse)}{\p}}
 { \wfprop{\G}{\D}{\pExists{\x}{\I}{\p}} }
}

\inferrule
 { \wfterm{\G}{\D}{\t}{\I} \\ \wfterm{\G}{\D}{\u}{\I} }
 { \wfprop{\G}{\D}{\pEqual{\t}{\u}} }


\end{mathpar}


\subsection{Provability}

Unchanged except for replacement of $\vdash$ by $\triangleright$ in every judgment!


\section{Well-Formedness and Translation Functions}


\[
\begin{array}{lll}
  \wp{\x} & := & \pTrue\\
  \wp{\tFun{\f}{\t}{n}} & := & \pAnd{\wp{\t_1}}{\pAnd{\cdots}{\wp{\t_n}}}\\
  \wp{\tDesc{\x}{\I}{\p(\x)}} & := &
       (\pForall{\x}{\I}{\wp{\p(\x)}}) \wedge
       (\pExists{\x}{\I}{\p(\x)}) \wedge
       (\pForall{\x}{\I}{\pForall{\y}{\I}
               {\pImply{\pAnd{\p(\x)}{\p(\y)}}{\x=\y}}})\\[10pt]

  \wp{\pTrue} & := & \pTrue\\
  \wp{\pFalse} & := & \pTrue\\
  \wp{\pOr{\p}{\q}} & := & \pTrue\\
%  \wp{\pOr{\p}{\q}} & := & \pAnd{\wp{\p}}{\wp{\q}}\\
  \wp{\pAnd{\p}{\q}} & := & \pAnd{\wp{\p}}{(\pImply{\p}{\wp{\q}})}\\
  \wp{\pImply{\p}{\q}} & := & \pAnd{\wp{\p}}{(\pImply{\p}{\wp{\q}})}\\
  \wp{\pForall{\x}{\I}{\p(\x)}} & := & \pForall{\x}{\I}{\wp{\p(\x)}}\\
  \wp{\pExists{\x}{\I}{\p(\x)}} & := & \pTrue\\
  \wp{\pEqual{\t}{\u}} & := & \pAnd{\wp{\t}}{\wp{\u}}\\[20pt]
  
  \trans{\x} & := & \x\\
  \trans{\tFun{\f}{\t}{n}} & := & \f(\trans{\t_1},\ldots,\trans{\t_n})\\
  \trans{\tDesc{\x}{\I}{\p(\x)}} & := & \tDesc{\x}{\I}{\trans{\p(\x)}}\\[10pt]
  
  \trans{\pTrue} & := & \pTrue\\
  \trans{\pFalse} & := & \pFalse\\
  \trans{\pOr{\p}{\q}} & := & \pOr{(\pAnd{\wp{\p}}{\trans{\p}})}{(\pAnd{\wp{\q}}{\trans{\q}})}\\
  \trans{\pAnd{\p}{\q}} & := & \pAnd{\trans{\p}}{\trans{\q}}\\
  \trans{\pImply{\p}{\q}} & := & \pImply{\trans{\p}}{\trans{\q}}\\
  \trans{\pForall{\x}{\I}{\p}} & := & \pForall{\x}{\I}{\trans{\p}} \\
  \trans{\pExists{\x}{\I}{\p}} & := & \pExists{\x}{\I}{(\pAnd{\wp{\p}}{\trans{\p}})}\\
  \trans{\pEqual{\t}{\u}} & := & \pEqual{\trans{\t}}{\trans{\u}}\\[10pt]
  
  \trans{\emptyCtx} & := & \emptyCtx\\
  \trans{\D,\p} & := & \trans{\D},\trans{\p}\\
\end{array}
\]

\clearpage

\section{Metatheory}

\begin{lemma}[Substitution]
\label{lemma:subst}
\mbox{}
 \begin{enumerate}
	\item If $\jwfterm{(\G,\x{:}\I,\G')}{\D}{\t}{\I}$ and
	  $\jwfterm{(\G,\G')}{\emptyCtx}{\u}{\I}$ then
	  $\jwfterm{(\G,\G')}{(\subst{\D}{\x}{\u})}{\subst{\t}{\x}{\u}}{\I}$.
	\item If $\jwfprop{(\G,\x{:}\I,\G')}{\D}{\p}$ and
	  $\jwfterm{\G}{\emptyCtx}{\u}{\I}$ then
	  $\jwfprop{(\G,\G')}{(\subst{\D}{\x}{\u})}{\subst{\p}{\x}{\u}}$.
	\item If $\jpf{(\G,\x{:}\I,\G')}{\D}{\p}$ and
	  $\jwfterm{\G}{\emptyCtx}{\u}{\I}$ then
	  $\jpf{(\G,\G')}{(\subst{\D}{\x}{\u})}{\subst{\p}{\x}{\u}}$.	
 \end{enumerate}
\end{lemma}

\begin{proof}
To be checked.
\end{proof}

\begin{lemma}[Weakening]
\mbox{}
\label{lemma:weaken}
\begin{enumerate}
	\item If $\jwfterm{\G}{\D_1}{\t}{\I}$ then
	   $\jwfterm{\G}{(\D_1,\D_2)}{\t}{\I}$.
	\item If $\jwfprop{\G}{\D_1}{\p}$ then
	   $\jwfprop{\G}{(\D_1,\D_2)}{\p}$.
\end{enumerate}
\end{lemma}

\begin{proof}
To be checked.
\end{proof}

\begin{lemma}[Cut]
\label{lemma:cut}
\mbox{}
\begin{enumerate}
  \item If $\jwfterm{\G}{(\D,\p)}{\t}{\I}$ and
     $\jpf{\G}{\D}{\p}$ then
     $\jwfterm{\G}{\D}{\t}{\I}$.
\end{enumerate}
\end{lemma}

\begin{proof}
To be checked.
\end{proof}

\begin{lemma}
\mbox{}
\begin{enumerate}
  \item If $\jwfterm{\G}{\D}{\t}{\I}$ then 
    $\wfterm{\G}{\D}{\t}{\I}$.
  \item If $\jwfprop{\G}{\D}{\p}$ then
    $\wfprop{\G}{\D}{\p}$.
  \item If $\jpf{\G}{\D}{\p}$ then
    $\pf{\G}{\D}{\p}$.
\end{enumerate}
\end{lemma}

\begin{proof}
By induction on derivations, using weakening and cut FOR THE LAX SYSTEM.
\end{proof}

\begin{claim}
\mbox{}
\begin{enumerate}
  \item If $\wfterm{\G}{\D}{\t}{\I}$ then
    $\jwfterm{\G}{\trans{\D}}{\trans{\t}}{\I}$.
  \item If $\wfprop{\G}{\D}{\p}$ then
    $\jwfprop{\G}{\trans{\D}}{\trans{\p}}$.
  \item If $\pf{\G}{\D}{\p}$ then
    $\jpf{\G}{\trans{\D}}{\trans{\p}}$.
  \item If $\jwfprop{\G}{\D}{\p}$ then
    $\jpf{\G}{\D}{\pIff{\p}{\trans{\p}}}$.
  \item If $\jwfprop{\G}{\D}{\p}$ and $\pf{\G}{\D}{\p}$ then
    $\jpf{\G}{\D}{\p}$.
\end{enumerate}
\end{claim}

\begin{lemma}[Correctness of $\wp{\cdot}$]
\mbox{}
  \begin{enumerate}
  \item If $\jwfterm{\G}{(\D,\pFalse)}{\t}{\I}$ then
    $\jwfprop{\G}{\emptyCtx}{\wp{\t}}$ and
    $\jwfterm{\G}{\wp{\t}}{\trans{\t}}{\I}$.
  \item If $\jwfprop{\G}{(\D,\pFalse)}{\p}$, we have
    $\jwfprop{\G}{\emptyCtx}{\wp{\p}}$ and $\jwfprop{\G}{\wp{\p}}{\trans{\p}}$.
  \end{enumerate}
\end{lemma}

\begin{proof}
  \raggedright Induction on the proof of
  $\jwfterm{\G}{(\D,\pFalse)}{\t}{\I}$ or $\jwfprop{\G}{(\D,\pFalse)}{\p}$.
  \begin{itemize}
  \item Case: $\t = \x$ with $\x{:}\I\in\G$.  
    \begin{enumerate}
      \item
        Here $\wp{\t} = \pTrue$ and $\trans{\t} = \x$.
      \item
        Then $\jwfprop{\G}{\emptyCtx}{\pTrue}$ 
      \item
        and $\jwfterm{\G}{\pTrue}{\x}{\I}$.
      \end{enumerate}
  \item Case: $\t = \tFun{\f}{\t}{n}$ with
    $\jwfterm{\G}{(\D,\pFalse)}{\t_i}{\I}$ for all $i\in1..n$.
    \begin{enumerate}
    \item
      Here $\wp{\t} =
      \pAnd{\wp{\t_1}}{\pAnd{\cdots}{\wp{\t_n}}}$
      and $\trans{\t} = \f(\trans{\t_1},\ldots,\trans{\t_n})$.
    \item 
    	By induction,
      $\jwfprop{\G}{\emptyCtx}{\wp{\t_1}}$ for
      all $i\in1..n$, 
    \item 
    	so
    $\jwfprop{\G}{\emptyCtx}{\pAnd{\wp{\t_1}}{\pAnd{\cdots}{\wp{\t_n}}}}$.
    \item 
    Similarly, $\jwfterm{\G}{\wp{\t_i}}{\trans{\t_i}}{\I}$ for
      all $i\in1..n$.  
    \item
      By Lemma~\ref{lemma:cut} we have
      $\jwfterm{\G}{\wp{\t}}{\trans{\t_i}}{\I}$ for
      all $i\in1..n$.  
    \item Thus,
      $\jwfterm{\G}{\wp{\t}}{\f(\trans{\t_1},\ldots,\trans{\t_n})}{\I}$.  
    \end{enumerate}
    
  \goodbreak
    
  \item Case: $\t = \tDesc{\x}{\I}{\p(\x)}$ with
  $\jpf{\G}{(\D,\pFalse)}{\pExists{\x}{\I}{\p(\x)}}$ and 
  $\jpf{\G}{(\D,\pFalse)}{\pForall{\x}{\I}{\pForall{\y}{\I}
               {\pImply{\pAnd{\p(\x)}{\p(\y)}}{\x=\y}}}}$.

    \begin{enumerate}
      \item 
        Then
        $\wp{\t} = 
        \pAnd
          {(\pForall{\x}{\I}{\wp{\p(\x)}})}
          {\pAnd
            {(\pExists{\x}{\I}{\p(\x)})}
            {(\pForall{\x}{\I}{\pForall{\y}{\I}
              {\pImply{\pAnd{\p(\x)}{\p(\y)}}{\x=\y}}})}}$.
      \item
        and 
        	$\trans{\t} = \tDesc{\x}{\I}{\trans{\p(\x)}}$.
      \item 
        By the inductive hypothesis, $\jwfprop{\G}{\emptyCtx}{\wp{\pExists{\x}{\I}{\p(\x)}}}$
      \item 
      	and
        $\jwfprop{\G}{\emptyCtx}{\wp{\pForall{\x}{\I}{\pForall{\y}{\I}
               {\pImply{\pAnd{\p(\x)}{\p(\y)}}{\x=\y}}}}}$.
      \item
      	That is, 
	$\jwfprop{\G}{\emptyCtx}
	   {\pForall{\x}{\I}
	      {\pForall{\y}{\I}
	        {\pAnd
	          {\bigl(\pAnd
	             {\wp{\p(\x)}}
	             {(\pImply{\p(\x)}{\wp{\p(\y)}})}\bigr)}
	          {(\pImply
	             {\pAnd{\p(\x)}{\p(\y)}}
	             {\pAnd{\pTrue}{\pTrue}})} }}}$.
	  \item
	    By inversion, 
	      $\jwfprop{(\G,\x{:}\I,\y{:}\I)}{\emptyCtx}{\wp{\p(\x)}}$,
      \item 
        so by Lemma~\ref{lemma:subst} we have 
        $\jwfprop{(\G,\x{:}\I)}{\emptyCtx}{\wp{\p(\x)}}$,
      \item
        and hence $\jwfprop{\G}{\emptyCtx}{\pForall{\x}{\I}{\wp{\p(x)}}}$.
      \item
        Thus, $\jwfprop{\G}{\emptyCtx}{\wp{\t}}$.
      \item
        Also by the inductive hypothesis
        $\jwfprop{\G}{\pTrue}
          {\pExists{\x}{\I}{\pAnd{\wp{\p(\x)}}{\trans{\p(\x)}}}}$
      \item
        and 
        $\jwfprop{\G}{\pForall{\x}{\I}
                       {\pForall{\y}{\I}
                       	 {\pAnd{(\pAnd{\wp{\p(\x)}}{(\pImply{\p(\x)}{\wp{\p(\y)}})})}
	                           {(\pImply{\pAnd{\p(\x)}{\p(\y)}}
	                                    {\pAnd{\pTrue}{\pTrue}})}}}}
            {(\pForall{\x}{\I}{\pForall{\y}{\I}
              {\pImply{\pAnd{\p(\x)}{\p(\y)}}{\x=\y}}})}$.
      \end{enumerate}
      
  \item Cases: $\p = \pTrue$ or $\p = \pFalse$.
      \begin{enumerate}
      \item 
      	Then $\wp{\p} = \pTrue$,
      \item
        and $\jwfprop{\G}{\emptyCtx}{\pTrue}$ 
      \item
        and $\jwfterm{\G}{\pTrue}{\x}{\I}$.
      \end{enumerate}
      
  \item Case: $\p = (\pOr{\p_1}{\p_2})$ with
       $\jwfprop{\G}{(\D,\pFalse)}{\p_1}$ and 
              $\jwfprop{\G}{(\D,\pFalse)}{\p_2}$.
      	\begin{enumerate}
		\item
			Here $\wp{\p} = \pAnd{\wp{\p_1}}{\wp{\p_2}}$.
		\item
			By the inductive hypothesis
			$\jwfprop{\G}{\emptyCtx}{\wp{\p_1}}$
		\item	
			and $\jwfprop{\G}{\emptyCtx}{\wp{\p_2}}$.
		\item
		    By Lemma~\ref{lemma:weaken},
		    	$\jwfprop{\G}{\wp{\p_1}}{\wp{\p_2}}$.
		\item
			Thus, 
			$\jwfprop{\G}{\emptyCtx}{\pAnd{\wp{\p_1}}{\wp{\p_2}}}$.
		\item
			Again by the inductive hypothesis,
			$\jwfprop{\G}{\wp{\p_1}}{\p_1}$
		\item
			and
			$\jwfprop{\G}{\wp{\p_2}}{\p_2}$.
		\item
			By Lemmas~\ref{lemma:weaken} and \ref{lemma:cut} we have
			$\jwfprop{\G}{(\pAnd{\wp{\p_1}}{\wp{\p_2}})}{\p_1}$
		\item
			and
			$\jwfprop{\G}{(\pAnd{\wp{\p_1}}{\wp{\p_2}})}{\p_2}$.
		\item
			Therefore,
			$\jwfprop{\G}{(\pAnd{\wp{\p_1}}{\wp{\p_2}})}{\pOr{\p_1}{\p_2}}$.
		\end{enumerate}    
      
      
  \item Case: $\p = (\pAnd{\p_1}{\p_2})$ or $\p = (\pImply{\p_1}{\p_2})$ with
       $\jwfprop{\G}{(\D,\pFalse)}{\p_1}$ and 
              $\jwfprop{\G}{(\D,\pFalse,\p_1)}{\p_2}$.
       \begin{enumerate}
       \item Then $\wp{\p} = \pAnd{\wp{\p_1}}{(\pImply{\p_1}{\wp{\p_2}})}$.
       \item By the inductive hypothesis,
         $\jwfprop{\G}{\emptyCtx}{\wp{\p_1}}$
         and $\jwfprop{\G}{\emptyCtx}{\wp{\p_2}}$.
       \item 
       		By Lemma~\ref{lemma:weaken} we have 
			$\jwfprop{\G}{\p_1}{\wp{\p_2}}$,
		\item
			so $\jwfprop{\G}{\emptyCtx}{(\pImply{\p_1}{\wp{\p_2}})}$,
		\item
		 	and hence $\jwfprop{\G}{\emptyCtx}{\p}$.
	    \item
	        Again by the inductive hypothesis,
	        $\jwfprop{\G}{\wp{\p_1}}{\p_1}$
	    \item
	        and $\jwfprop{\G}{\wp{\p_2}}{\p_2}$.
	    \item
	        By Lemma~\ref{lemma:weaken} we have
	        $\jwfprop{\G}
	           {(\pAnd{\wp{\p_1}}{(\pImply{\p_1}{\wp{\p_2}})},\wp{\p_1})}
	           {\p_1}$
	    \item
	        and since
	        $\jpf{\G}{\pAnd{\wp{\p_1}}{(\pImply{\p_1}{\wp{\p_2}})}}{\wp{\p_1}}$,
	    \item
	        by Lemma~\ref{lemma:cut} we have
	        	$\jwfprop{\G}
		       {\pAnd{\wp{\p_1}}{(\pImply{\p_1}{\wp{\p_2}})}}
	           {\p_1}$.
	    \item
	        That is, $\jwfprop{\G}{\wp{\p}}{\p_1}$.
	    \item
	        Similarly, by Lemma~\ref{lemma:weaken} we have
	        $\jwfprop{\G}
	           {(\pAnd{\wp{\p_1}}{(\pImply{\p_1}{\wp{\p_2}})},\p_1,\wp{\p_2})}
	           {\p_2}$.
	    \item 
	        Then since
	        $\jpf{\G}
	           {(\pAnd{\wp{\p_1}}{(\pImply{\p_1}{\wp{\p_2}})},\p_1)}
	           {\wp{\p_2}}$,
	    \item
	        by Lemma~\ref{lemma:cut} we have
	        $\jwfprop{\G}
	           {(\pAnd{\wp{\p_1}}{(\pImply{\p_1}{\wp{\p_2}})},\p_1)}
	           {\p_2}$.
	    \item
	        That is,
	        $\jwfprop{\G}
	           {\wp{\p},\p_1}
	           {\p_2}$.
	    \item
	        Therefore,
	        $\jwfprop{\G}{\wp{\p}}{\p}$.    
       \end{enumerate}
  \end{itemize}
\end{proof}



\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
